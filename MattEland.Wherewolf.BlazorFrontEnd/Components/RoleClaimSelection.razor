@using MattEland.Wherewolf.BlazorFrontEnd.Helpers

<section>
    <MudText Typo="Typo.h4">Claim a role</MudText>
    <MudText Typo="Typo.body2">
        Select a role you wish to tell other players you started the game as. This does not have to be true.
    </MudText>
    <MudSimpleTable Class="mt-1">
        <thead>
            <th>Role</th>
            <th>Support</th>
            <th>Times in Play</th>
            <th>Times in Center</th>
            <th>Voted Likelihood</th>
        </thead>
        <tbody>
        @foreach (var kvp in Stats)
        {
            <tr>
                <td style="display: flex; justify-content: stretch;">
                    <MudButton Variant="Variant.Filled"
                               Color="@kvp.Key.GetTeamColor()"
                               StartIcon="@kvp.Key.GetRoleIcon()"
                               Size="Size.Large"
                               Style="flex-grow: 1;"
                               OnClick="() => RoleClaimed(kvp.Key)">
                        @kvp.Key
                    </MudButton>
                </td>
                <td>@kvp.Value.Support.ToString("0")</td>
                <td>@kvp.Value.InPlayPercent.ToString("P0")</td>
                <td>@kvp.Value.OutOfPlayPercent.ToString("P0")</td>
                <td>@kvp.Value.VotesPerGame.ToString("0.0")</td>
            </tr>
        }
        </tbody>
    </MudSimpleTable>
</section>